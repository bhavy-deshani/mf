<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Market Insights</title>
    <link rel="stylesheet" href="assets/css/theme.css">
</head>

<body>
    <main>
        <script src="assets/js/header.js"></script>
        <script src="assets/js/footer.js"></script>

        <!-- First Section -->
        <section class="pt-md-8 bener-b">
            <div class="bg-holder"
                style="background-image:url(assets/images/illustrations/hero-bg.webp);background-position:bottom;background-size:cover;">
            </div>
            <div class="container">
                <nav class="opacity-75"
                    style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);"
                    aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Daily Market Insights</li>
                    </ol>
                </nav>

                <div class="row justify-content-between align-items-center">
                    <div class="col-md-8">
                        <h1 class="fw-bold">Daily Market Insights</h1>
                        <ul>
                            <li>We provide investors with detailed financial analysis and recommendations on whether
                                What to buy, hold, or sell a particular investment.</li>

                            <li>Our Recommendations have a good strike rate & investors gain substantially while
                                trading through us.</li>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <img src="assets/images/gallery/research.png" class="img-fluid " alt="">
                    </div>
                </div>
            </div>
        </section>
        <section>

            <!-- Dropdown Section -->
            <div class="m-auto d-flex justify-content-center gap-3 py-4">
                <select id="month" class="rounded-2 py-1 px-3"></select>
                <select id="year" class="rounded-2 py-1 px-3"></select>
            </div>
            <div class="container">
                <div class="row">
                    <!-- Left Navigation -->
                    <div class="col-md-3">
                        <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist"
                            aria-orientation="vertical">
                            <button class="nav-link text-b text-start active" id="market-outlook-tab"
                                data-bs-toggle="pill" data-bs-target="#market-outlook" type="button" role="tab"
                                aria-controls="market-outlook" aria-selected="true">
                                Market Outlook
                            </button>
                            <button class="nav-link text-b text-start" id="results-corner-tab" data-bs-toggle="pill"
                                data-bs-target="#results-corner" type="button" role="tab" aria-controls="results-corner"
                                aria-selected="false">
                                Results Corner
                            </button>
                            <button class="nav-link text-b text-start" id="new-listings-tab" data-bs-toggle="pill"
                                data-bs-target="#new-listings" type="button" role="tab" aria-controls="new-listings"
                                aria-selected="false">
                                New Listings
                            </button>
                            <button class="nav-link text-b text-start" id="alerts-tab" data-bs-toggle="pill"
                                data-bs-target="#alerts" type="button" role="tab" aria-controls="alerts"
                                aria-selected="false">
                                Alerts
                            </button>
                            <button class="nav-link text-b text-start" id="market-close-box-tab" data-bs-toggle="pill"
                                data-bs-target="#market-close-box" type="button" role="tab"
                                aria-controls="market-close-box" aria-selected="false">
                                Market Close Box
                            </button>
                        </div>
                    </div>

                    <!-- Right Content -->
                    <div class="col-md-9">
                        <div class="tab-content" id="v-pills-tabContent">
                            <div class="tab-pane fade show active content-section" id="market-outlook" role="tabpanel"
                                aria-labelledby="market-outlook-tab">
                                <h3>Market Outlook</h3>
                                <p>Outlook provides an overview of global trends, futures, and key economic data to
                                    predict market direction before opening. Live market updates offer real-time
                                    insights into price movements, helping investors make informed decisions and stay
                                    ahead of the market. </p>
                                <table class="table text-center">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Titles</th>
                                        </tr>
                                    </thead>
                                    <tbody id="market-outlook-body"></tbody>
                                </table>
                            </div>
                            <div class="tab-pane fade content-section" id="results-corner" role="tabpanel"
                                aria-labelledby="results-corner-tab">
                                <h3>Results Corner</h3>
                                <p>Results Corner lists stocks that disclose their quarterly earnings.</p>
                                <table class="table text-center">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Titles</th>
                                        </tr>
                                    </thead>
                                    <tbody id="results-corner-body"></tbody>
                                </table>
                            </div>
                            <div class="tab-pane fade content-section" id="new-listings" role="tabpanel"
                                aria-labelledby="new-listings-tab">
                                <h3>New Listings</h3>
                                <p>Provides alerts about companies making their debut on the stock exchanges through an
                                    Initial Public Offering (IPO).</p>
                                <table class="table text-center">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Titles</th>
                                        </tr>
                                    </thead>
                                    <tbody id="new-listings-body"></tbody>
                                </table>
                            </div>
                            <div class="tab-pane fade content-section" id="alerts" role="tabpanel"
                                aria-labelledby="alerts-tab">
                                <h3>Alerts</h3>
                                <p>Stock, sector, market, and economic alerts provide information about significant
                                    price movements, news, or events that could impact investments. These alerts help
                                    track changes in individual stocks, sector performance, overall market conditions,
                                    and macroeconomic indicators. Investors can make timely decisions based on emerging
                                    trends and risks by staying updated.</p>
                                <table class="table text-center">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Titles</th>
                                        </tr>
                                    </thead>
                                    <tbody id="alerts-body"></tbody>
                                </table>
                            </div>
                            <div class="tab-pane fade content-section" id="market-close-box" role="tabpanel"
                                aria-labelledby="market-close-box-tab">
                                <h3>Market Close Box</h3>
                                <p>Market Close Box provides essential market data at the end of the trading day,
                                    including index performances, top gainers and losers.</p>
                                <table class="table text-center">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Titles</th>
                                        </tr>
                                    </thead>
                                    <tbody id="market-close-box-body"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="vendors/@popperjs/popper.min.js"></script>
    <script src="vendors/bootstrap/bootstrap.min.js"></script>
    <script src="assets/js/theme.js"></script>

    <script src="assets/js/app-link.js"></script>

    <script>
        // Populate dropdowns
        const monthSelect = document.getElementById('month');
        const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
        const currentMonth = new Date().getMonth() + 1;
        months.forEach((month, index) => {
            const option = document.createElement('option');
            option.value = index + 1;
            option.textContent = month;
            if (index + 1 === currentMonth) option.selected = true;
            monthSelect.appendChild(option);
        });

        const yearSelect = document.getElementById('year');
        const currentYear = new Date().getFullYear();
        for (let year = 2018; year <= currentYear; year++) {
            const option = document.createElement('option');
            option.value = year;
            option.textContent = year;
            if (year === currentYear) option.selected = true;
            yearSelect.appendChild(option);
        };

        // Fetch and update all data
        function fetchData() {
            const month = document.getElementById('month').value;
            const year = document.getElementById('year').value;

            if (month && year) {
                fetch(`https://www.integratedindia.in/api/cdslapi.aspx?month=${month}&year=${year}`)
                    .then(response => response.json())
                    .then(data => {
                        updateSection('market_outlook', data.market_outlook);
                        updateSection('results_corner', data.results_corner);
                        updateSection('new_listings', data.new_listings);
                        updateSection('alerts', data.alerts);
                        updateSection('market_close_box', data.market_close_box);
                    })
                    .catch(error => console.error('Error fetching data:', error));
            }
        }

        function updateSection(sectionId, data) {
            const tableBody = document.querySelector(`#${sectionId} #data-table-body`);
            tableBody.innerHTML = '';
            data.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.date}</td>
                    <td>${item.title}</td>
                    `;
                    tableBody.appendChild(row);
                });
            }
            
            // <td><a href="${item.file}" target="_blank">Download PDF</a></td>
        // Event listeners
        document.getElementById('month').addEventListener('change', fetchData);
        document.getElementById('year').addEventListener('change', fetchData);

        // Initial fetch
        fetchData();
    </script>
</body>

</html>